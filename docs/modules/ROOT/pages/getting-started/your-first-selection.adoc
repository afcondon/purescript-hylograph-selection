= Your First Selection
:description: Create your first Hylograph visualization in 10 minutes
:keywords: tutorial, getting started, PureScript, D3, visualization

In this tutorial, you'll create a simple visualization using Hylograph. By the end, you'll understand the core pattern: build a *HATS tree* that describes your visualization, then interpret it to render.

== Prerequisites

- PureScript and Spago installed
- Basic familiarity with PureScript syntax
- A project with `hylograph-selection` installed:

[source,bash]
----
spago install hylograph-selection
----

== The Core Pattern

Hylograph is different from D3.js. Instead of imperative method chaining:

[source,javascript]
----
// D3.js (imperative)
d3.select("body")
  .append("svg")
  .attr("width", 400)
  .attr("height", 300)
  .append("circle")
  .attr("cx", 200)
  .attr("cy", 150)
  .attr("r", 50)
  .attr("fill", "steelblue");
----

You build a *tree* that describes what you want:

[source,purescript]
----
-- Hylograph (declarative)
myViz :: H.Tree
myViz =
  HF.svg [ width $ num 400.0, height $ num 300.0 ]
    [ HF.circle
        [ cx $ num 200.0
        , cy $ num 150.0
        , r $ num 50.0
        , fill $ text "steelblue"
        ]
    ]
----

Then you render that tree to the DOM. The tree is *data* - you can inspect it, transform it, test it.

== Step 1: Imports

Create a file `src/Main.purs`:

[source,purescript]
----
module Main where

import Prelude

import Effect (Effect)

import Hylograph.HATS as H
import Hylograph.HATS.Friendly as HF
import Hylograph.Expr.Friendly (num, text, width, height, cx, cy, r, fill)
import Hylograph.HATS.InterpreterTick (rerender)
----

The key imports are:

- `Hylograph.HATS` - Core HATS types (`Tree`, `Attr`, etc.)
- `Hylograph.HATS.Friendly` - Element helpers (`svg`, `circle`, `rect`, `group`, etc.)
- `Hylograph.Expr.Friendly` - Attribute helpers (`num`, `text`, `width`, `cx`, etc.)
- `Hylograph.HATS.InterpreterTick` - Rendering function (`rerender`)

== Step 2: Build the Tree

[source,purescript]
----
myViz :: H.Tree
myViz =
  HF.svg [ width $ num 400.0, height $ num 300.0 ]
    [ HF.circle
        [ cx $ num 200.0
        , cy $ num 150.0
        , r $ num 50.0
        , fill $ text "steelblue"
        ]
    ]
----

Let's break this down:

`H.Tree`:: The tree type. HATS trees are unparameterized - data binding is handled separately.

`HF.svg [...]`:: Create an SVG element with attributes and children.

`width $ num 400.0`:: Set width to 400. `num` wraps a number in the expression system.

`HF.circle [...]`:: Create a circle element with attributes.

`fill $ text "steelblue"`:: String attributes use `text` instead of `num`.

== Step 3: Render to the DOM

[source,purescript]
----
main :: Effect Unit
main = void $ rerender "#app" myViz
----

`rerender`:: Renders the HATS tree into the selected container. Takes a CSS selector and a tree.

That's it! One line to render.

== Complete Example

[source,purescript]
----
module Main where

import Prelude

import Effect (Effect)

import Hylograph.HATS as H
import Hylograph.HATS.Friendly as HF
import Hylograph.Expr.Friendly (num, text, width, height, cx, cy, r, fill)
import Hylograph.HATS.InterpreterTick (rerender)

myViz :: H.Tree
myViz =
  HF.svg [ width $ num 400.0, height $ num 300.0 ]
    [ HF.circle
        [ cx $ num 200.0
        , cy $ num 150.0
        , r $ num 50.0
        , fill $ text "steelblue"
        ]
    ]

main :: Effect Unit
main = void $ rerender "#app" myViz
----

== Adding More Elements

HATS trees naturally support multiple children:

[source,purescript]
----
myViz :: H.Tree
myViz =
  HF.svg [ width $ num 400.0, height $ num 300.0 ]
    [ HF.circle
        [ cx $ num 100.0, cy $ num 150.0, r $ num 40.0
        , fill $ text "steelblue"
        ]
    , HF.circle
        [ cx $ num 200.0, cy $ num 150.0, r $ num 40.0
        , fill $ text "coral"
        ]
    , HF.circle
        [ cx $ num 300.0, cy $ num 150.0, r $ num 40.0
        , fill $ text "seagreen"
        ]
    ]
----

== Nesting Elements

Trees can be nested arbitrarily deep using groups:

[source,purescript]
----
import Hylograph.Expr.Friendly (transform)

myViz :: H.Tree
myViz =
  HF.svg [ width $ num 400.0, height $ num 300.0 ]
    [ HF.group [ transform $ text "translate(200, 150)" ]
        [ HF.circle [ r $ num 50.0, fill $ text "steelblue" ]
        , HF.circle [ r $ num 30.0, fill $ text "white" ]
        ]
    ]
----

== Named Elements

Use `H.named` to create retrievable selections:

[source,purescript]
----
myViz :: H.Tree
myViz =
  H.named "chart" $ HF.svg [ width $ num 400.0, height $ num 300.0 ]
    [ H.named "mainCircle" $ HF.circle
        [ cx $ num 200.0, cy $ num 150.0, r $ num 50.0
        , fill $ text "steelblue"
        ]
    ]
----

Named selections can be retrieved after rendering for updates or attaching behaviors.

== What You've Learned

1. **Build trees, not commands** - Hylograph visualizations are data structures
2. **`HF.svg`, `HF.circle`** etc. create elements with children
3. **`H.named`** wraps an element to make it retrievable
4. **`num`** and **`text`** wrap values for the attribute system
5. **`rerender`** executes the rendering in one call

== Next Steps

- xref:getting-started/bar-chart.adoc[Building a Bar Chart] - Data binding with enumerations
- xref:how-to/coordinated-highlighting.adoc[Coordinated Highlighting] - Interactive behaviors
- xref:understanding/the-hats.adoc[The HATS System] - Deep dive into the tree structure
