= Hylograph in a Simple Web Page
:description: How to use Hylograph without Halogen or a complex framework
:keywords: simple, webpage, no-framework, vanilla

Not every visualization needs a full application framework. This guide shows how to use Hylograph in a simple HTML page with minimal setup.

== When to Use This Approach

* Quick prototypes and experiments
* Static visualizations with no complex state
* Embedding a visualization in an existing non-PureScript page
* Learning Hylograph without Halogen complexity

== Basic Setup

=== 1. Create Your HTML

[source,html]
----
<!DOCTYPE html>
<html>
<head>
  <title>My Visualization</title>
  <style>
    #chart { width: 800px; height: 600px; }
  </style>
</head>
<body>
  <div id="chart"></div>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="./my-viz.js"></script>
</body>
</html>
----

=== 2. Write Your PureScript

[source,purescript]
----
module Main where

import Prelude
import Effect (Effect)
import Hylograph.HATS as H
import Hylograph.HATS.Friendly as HF
import Hylograph.Expr.Friendly (num, text, width, height, cx, cy, r, fill)
import Hylograph.HATS.InterpreterTick (rerender)

main :: Effect Unit
main = void $ rerender "#chart" myVisualization

myVisualization :: H.Tree
myVisualization =
  HF.svg [ width $ num 800.0, height $ num 600.0 ]
    [ HF.circle
        [ cx $ num 400.0
        , cy $ num 300.0
        , r $ num 100.0
        , fill $ text "steelblue"
        ]
    ]
----

=== 3. Bundle and Run

[source,bash]
----
# Build PureScript
spago build

# Bundle for browser
spago bundle --module Main --outfile my-viz.js

# Open in browser
open index.html
----

== Adding Interactivity with Behaviors

For simple interactivity, use HATS behaviors:

[source,purescript]
----
import Hylograph.HATS (withBehavior)
import Hylograph.Internal.Behavior.Types (Behavior(..))

myVisualization :: H.Tree
myVisualization =
  HF.svg [ width $ num 800.0, height $ num 600.0 ]
    [ HF.circle
        [ cx $ num 400.0, cy $ num 300.0, r $ num 100.0
        , fill $ text "steelblue"
        ]
      # H.withBehavior (Highlight { cssSelector: "circle", highlightClass: HighlightedPrimary })
    ]
----

== Managing State with Effect.Ref

For simple state without a framework, use `Effect.Ref`:

[source,purescript]
----
import Effect.Ref as Ref

main :: Effect Unit
main = do
  -- Mutable state
  countRef <- Ref.new 0

  let renderViz count =
        HF.svg [ width $ num 800.0, height $ num 600.0 ]
          [ HF.text
              [ x $ num 400.0, y $ num 300.0
              , textContent $ text $ "Count: " <> show count
              ]
          ]

  -- Initial render
  count <- Ref.read countRef
  void $ rerender "#chart" (renderViz count)
----

== Loading External Data

[source,purescript]
----
import Affjax.Web as Ajax
import Affjax.ResponseFormat as RF

main :: Effect Unit
main = launchAff_ do
  result <- Ajax.get RF.json "/data/points.json"
  case result of
    Left err -> log $ "Failed to load data: " <> printError err
    Right response -> do
      let points = decodePoints response.body
      liftEffect $ void $ rerender "#chart" (scatterplot points)
----

== When to Graduate to Halogen

Consider moving to Halogen when you need:

* Complex application state
* Multiple interacting components
* Routing
* Server communication with loading states
* Undo/redo functionality

== Next Steps

* xref:getting-started/your-first-selection.adoc[Your First Selection] - Hylograph basics
* xref:how-to/css-hover.adoc[Simple CSS Hover Effects] - Lightweight interactivity
* xref:getting-started/webapp-architecture.adoc[Web App Architecture] - When you're ready for more
